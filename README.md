# Projeto de Gerenciamento de Produtos e Vendas em PL/SQL

Este projeto é sobre criar um sistema simples de gerenciamento de produtos e vendas usando PL/SQL. Aqui você vai encontrar tudo sobre como inserir novos produtos, registrar vendas e gerar relatórios de vendas com o estoque restante. Bora aprender e praticar juntos!

## Funcionalidades

- **Gerenciamento de Produtos:** Adicione produtos com nome, categoria, preço e estoque inicial.
- **Registro de Vendas:** Registre vendas para produtos, com data da venda, quantidade vendida e ajuste automático do estoque.
- **Relatório de Vendas:** Gere relatórios que mostram produtos vendidos, categoria, preço, data da venda, quantidade vendida e o estoque restante.

## Requisitos

- Oracle Database (versão 11g ou superior)
- Oracle SQL Developer (ou qualquer outro cliente para execução de PL/SQL)

## Configuração e Execução

### Criar as Tabelas

Execute o script abaixo para criar as tabelas necessárias:

```
CREATE TABLE produtos (
   id_produto NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
   nome VARCHAR2(100),
   categoria VARCHAR2(50),
   preco NUMBER(10, 2),
   estoque NUMBER
);

CREATE TABLE vendas (
   id_venda NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
   id_produto NUMBER,
   data_venda DATE,
   quantidade NUMBER,
   FOREIGN KEY (id_produto) REFERENCES produtos(id_produto)
);

Use o script abaixo para inserir produtos no sistema:

BEGIN
   INSERT INTO produtos (nome, categoria, preco, estoque) VALUES ('Vinagre Castelo', 'Limpeza', 4.20, 200);
   INSERT INTO produtos (nome, categoria, preco, estoque) VALUES ('Vinagre Roma', 'Limpeza', 3.95, 200);
   INSERT INTO produtos (nome, categoria, preco, estoque) VALUES ('Sabão em Pó Omo', 'Limpeza', 10.90, 100);
   INSERT INTO produtos (nome, categoria, preco, estoque) VALUES ('Amaciante Confort', 'Limpeza', 8.50, 150);
   INSERT INTO produtos (nome, categoria, preco, estoque) VALUES ('Shampoo Pantene', 'Higiene Pessoal', 12.49, 200);
   -- Adicione mais produtos conforme necessário
   COMMIT;
END;

Registrar Vendas

BEGIN
   -- Venda de 50 unidades de Vinagre Castelo
   INSERT INTO vendas (id_produto, data_venda, quantidade) VALUES (1, SYSDATE, 50);
   -- Venda de 30 unidades de Sabão em Pó Omo
   INSERT INTO vendas (id_produto, data_venda, quantidade) VALUES (3, SYSDATE - 1, 30);
   -- Venda de 10 unidades de Shampoo Pantene
   INSERT INTO vendas (id_produto, data_venda, quantidade) VALUES (5, SYSDATE - 2, 10);
   COMMIT;
END;

Procedimento para Gerar Relatório de Vendas

CREATE OR REPLACE PROCEDURE relatorio_vendas IS
   CURSOR c_vendas IS
      SELECT p.nome,
             p.categoria,
             p.preco,
             v.data_venda,
             v.quantidade,
             p.estoque - v.quantidade AS estoque_restante
        FROM vendas v
        JOIN produtos p ON v.id_produto = p.id_produto
        ORDER BY v.data_venda DESC; -- Ordenar pela data da venda
   v_nome produtos.nome%TYPE;
   v_categoria produtos.categoria%TYPE;
   v_preco produtos.preco%TYPE;
   v_data_venda vendas.data_venda%TYPE;
   v_quantidade vendas.quantidade%TYPE;
   v_estoque_restante NUMBER;
BEGIN
   OPEN c_vendas;
   DBMS_OUTPUT.PUT_LINE('Relatório de Vendas');
   DBMS_OUTPUT.PUT_LINE('====================');
   DBMS_OUTPUT.PUT_LINE('Produto                   | Categoria         | Preço    | Data Venda  | Quantidade | Estoque Restante');
   DBMS_OUTPUT.PUT_LINE('---------------------------------------------------------------------------------------------');
   LOOP
      FETCH c_vendas INTO v_nome, v_categoria, v_preco, v_data_venda, v_quantidade, v_estoque_restante;
      EXIT WHEN c_vendas%NOTFOUND;
      DBMS_OUTPUT.PUT_LINE(RPAD(v_nome, 25) || ' | ' ||
                            RPAD(v_categoria, 18) || ' | R$ ' ||
                            TO_CHAR(v_preco, 'FM9999999.00') || ' | ' ||
                           TO_CHAR(v_data_venda, 'DD/MM/YYYY') || ' | ' ||
                           RPAD(v_quantidade, 10) || ' | ' ||
                            v_estoque_restante);
   END LOOP;
   CLOSE c_vendas;
END;
/

Executando o Relatório
BEGIN
   relatorio_vendas;
END;





