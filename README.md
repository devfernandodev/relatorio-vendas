Projeto de Gerenciamento de Produtos e Vendas em PL/SQL
projeto sobre criaçaõ de um sistema simples de gerenciamento de produtos e vendas usando PL/SQL.

Funcionalidades
Gerenciamento de Produtos: Adicione produtos com nome, categoria, preço e estoque inicial.

Registro de Vendas: Registre vendas para produtos, com data da venda, quantidade vendida e ajuste automático do estoque.

Relatório de Vendas: Gere relatórios que mostram produtos vendidos, categoria, preço, data da venda, quantidade vendida e o estoque restante.

Requisitos
Oracle Database (versão 11g ou superior)

Oracle SQL Developer (ou qualquer outro cliente para execução de PL/SQL)

Configuração e Execução
1. Criar as Tabelas
Execute o script abaixo para criar as tabelas necessárias:


CREATE TABLE produtos (
   id_produto NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
   nome VARCHAR2(100),
   categoria VARCHAR2(50),
   preco NUMBER(10, 2),
   estoque NUMBER
);

CREATE TABLE vendas (
   id_venda NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
   id_produto NUMBER,
   data_venda DATE,
   quantidade NUMBER,
   FOREIGN KEY (id_produto) REFERENCES produtos(id_produto)
);
2. Adicionar Produtos
Use o script abaixo para inserir produtos no sistema


BEGIN
   INSERT INTO produtos (nome, categoria, preco, estoque) VALUES ('Vinagre Castelo', 'Limpeza', 4.20, 200);
   INSERT INTO produtos (nome, categoria, preco, estoque) VALUES ('Vinagre Roma', 'Limpeza', 3.95, 200);
   INSERT INTO produtos (nome, categoria, preco, estoque) VALUES ('Sabão em Pó Omo', 'Limpeza', 10.90, 100);
   INSERT INTO produtos (nome, categoria, preco, estoque) VALUES ('Amaciante Confort', 'Limpeza', 8.50, 150);
   INSERT INTO produtos (nome, categoria, preco, estoque) VALUES ('Shampoo Pantene', 'Higiene Pessoal', 12.49, 200);
   -- Adicione mais produtos conforme necessário
   COMMIT;
END;
3. Registrar Vendas
Para registrar vendas de produtos, use o script a seguir. Ele insere vendas de acordo com o produto e a quantidade vendida:


BEGIN
   -- Venda de 50 unidades de Vinagre Castelo
   INSERT INTO vendas (id_produto, data_venda, quantidade) VALUES (1, SYSDATE, 50);
   -- Venda de 30 unidades de Sabão em Pó Omo
   INSERT INTO vendas (id_produto, data_venda, quantidade) VALUES (3, SYSDATE - 1, 30);
   -- Venda de 10 unidades de Shampoo Pantene
   INSERT INTO vendas (id_produto, data_venda, quantidade) VALUES (5, SYSDATE - 2, 10);
   COMMIT;
END;
4. Procedimento para Gerar Relatório de Vendas
Este procedimento gera um relatório formatado que exibe o nome do produto, a categoria, o preço, a data da venda, a quantidade vendida e o estoque restante

CREATE OR REPLACE PROCEDURE relatorio_vendas IS
   CURSOR c_vendas IS
      SELECT p.nome,
             p.categoria,
             p.preco,
             v.data_venda,
             v.quantidade,
             p.estoque - v.quantidade AS estoque_restante
        FROM vendas v
        JOIN produtos p ON v.id_produto = p.id_produto
        ORDER BY v.data_venda DESC; -- Ordenar pela data da venda
   v_nome produtos.nome%TYPE;
   v_categoria produtos.categoria%TYPE;
   v_preco produtos.preco%TYPE;
   v_data_venda vendas.data_venda%TYPE;
   v_quantidade vendas.quantidade%TYPE;
   v_estoque_restante NUMBER;
BEGIN
   OPEN c_vendas;
   DBMS_OUTPUT.PUT_LINE('Relatório de Vendas');
   DBMS_OUTPUT.PUT_LINE('====================');
   DBMS_OUTPUT.PUT_LINE('Produto                   | Categoria         | Preço    | Data Venda  | Quantidade | Estoque Restante');
   DBMS_OUTPUT.PUT_LINE('---------------------------------------------------------------------------------------------');
   LOOP
      FETCH c_vendas INTO v_nome, v_categoria, v_preco, v_data_venda, v_quantidade, v_estoque_restante;
      EXIT WHEN c_vendas%NOTFOUND;
      DBMS_OUTPUT.PUT_LINE(RPAD(v_nome, 25) || ' | ' ||
                            RPAD(v_categoria, 18) || ' | R$ ' ||
                            TO_CHAR(v_preco, 'FM9999999.00') || ' | ' ||
                           TO_CHAR(v_data_venda, 'DD/MM/YYYY') || ' | ' ||
                           RPAD(v_quantidade, 10) || ' | ' ||
                            v_estoque_restante);
   END LOOP;
   CLOSE c_vendas;
END;
/
5. Executando o Relatório
Após registrar vendas, você pode rodar o relatório de vendas executando o seguinte bloco PL/SQL:

BEGIN
   relatorio_vendas;
END;
Este comando gerará um relatório de vendas formatado que será exibido no console, mostrando os produtos vendidos, a data de venda, quantidade e o estoque restante.

Exemplo de Saída do Relatório


Relatório de Vendas
====================
Produto                   | Categoria         | Preço    | Data Venda  | Quantidade | Estoque Restante
---------------------------------------------------------------------------------------------
Vinagre Castelo            | Limpeza           | R$ 4.20  | 23/10/2024  | 50         | 150
Sabão em Pó Omo            | Limpeza           | R$ 10.90 | 22/10/2024  | 30         | 70
Shampoo Pantene            | Higiene Pessoal   | R$ 12.49 | 21/10/2024  | 
